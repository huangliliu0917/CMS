<!--announcements.html-->
<!--浏览试图-->
<div class="fn-clear js-hot-module HOTAnnounce-6915 toolhover" th:attr="id=${guid}">
    <div class="mc" style="overflow: visible;">
        <dl>
            <dt>品牌公告：</dt>
            <dd class="HOTAnnounceArea">
                <marquee height="75" style="height: 50px;"
                         th:attr="direction = ${direction==null?'right':direction},scrollamount=${scrollamount==null?5:scrollamount},bgcolor=${bgcolor==null?'#FFFFFF':bgcolor}">
                    <ul>
                        <li th:style="'color:' + ${fontColor==null?'#000000':fontColor} + ';font-size:' + ${fontSize==null?'12':fontSize} + 'px;'" th:utext="${announce==null?'品牌公告':announce}"></li>
                    </ul>
                </marquee>
            </dd>
        </dl>
    </div>
    <div class="module-toolbal-container ui-draggable" th:if="${edit}">
        <div class="module-assist" style="padding-top: 32px;"></div>
        <div class="module-toolbar HOT-module-toolbar" style="height:120px; width:100%;">
            <h4 style="cursor: move;">
        <span class="module-extra">
        <a class="icon-del js-module-delete" href="javascript:void(0)"
           th:attr="data-id=${guid},data-layoutid=${layoutId},data-position=${layoutPosition}"></a>
                    <a class="icon-up js-module-up" href="javascript:void(0)"
                       th:attr="data-id=${guid},data-layoutid=${layoutId},data-position=${layoutPosition}"></a>
                    <a class="icon-down js-module-down" href="javascript:void(0)"
                       th:attr="data-id=${guid},data-layoutid=${layoutId},data-position=${layoutPosition}"></a>
        </span>
                <span class="module-name HOT-module-name">品牌公告</span>
        <span class="HOT-module-set">
        <a href="javascript:void(0)" class="HOT-module-set-data js-widget-edit"
           th:attr="data-editurl=${widgetEditUri},data-id=${id},data-for=${guid},data-url=${widgetUri},data-layoutid=${layoutId},data-position=${layoutPosition}">
            编辑
        </a>
        </span>
            </h4>
        </div>
    </div>
</div>
<!--advanced-search.html-->
<!--编辑视图-->
<div id="module_area">
    <style>
        .forms label {
            text-align: left;
        }
    </style>
    <div class="forms">
        <ul>
            <li>
                <label style="width: 110px;">公告内容</label>
                <textarea rows="3" cols="50" name="announce">[[${announce == null ? '品牌公告':announce}]]</textarea>
            </li>
            <li>
                <label style="width: 110px;">滚动方向</label>
                <select name="direction" class="select-short" id="direction">
                    <option value="right" th:selected="${direction== null or direction=='right'}">从左往右</option>
                    <option value="left" th:selected="${direction=='left'}">从右往左</option>
                    <option value="up" th:selected="${direction=='up'}">从下往上</option>
                    <option value="down" th:selected="${direction=='down'}">从上往下</option>
                </select>
            </li>
            <li>
                <label style="width: 110px;">滚动速度</label>
                <input type="number" class="text-short" name="scrollamount"
                       th:value="${scrollamount==null?5:scrollamount}">
            </li>
            <li>
                <label style="width: 110px;">字体大小</label>
                <input type="number" class="text-short" name="fontSize"
                       th:value="${fontSize==null?12:fontSize}">
            </li>
            <li>
                <label style="width: 110px;">背景颜色 </label>
                <input type="text" class="js-hot-color input-normal" id="bgcolor"
                       th:attr="data-default=${bgcolor==null?'#FFFFFF':bgcolor}" data-default="#FFFFFF" data-input="bgcolor"/>
                <input type="hidden" class="js-hot-properties" th:value="${bgcolor}" name="bgcolor" style="background: #ffffff;"/>
            </li>
            <li>
                <label style="width: 110px;">字体颜色</label>
                <input type="text" class="js-hot-color input-normal" id="fontColor"
                       data-default="" data-input="fontColor" th:attr="data-default=${fontColor==null?'#000000':fontColor}"/>
                <input type="hidden" class="js-hot-properties" th:value="${fontColor}" name="fontColor" style="background: #ffffff;"/>
            </li>
        </ul>
    </div>
    <script type="application/javascript">
        var colorModule = {
            color: function(){
                var obj = $(".js-hot-color");
                $.each(obj, function (item, dom) {
                    var inputValueName = $(dom).data("input");
                    var defaultColor = $(dom).data("default");
                    $(dom).spectrum({
                        allowEmpty: true,
                        chooseText: "ȷ��",
                        cancelText: "ȡ��",
                        color: defaultColor,
                        preferredFormat: "rgb",
                        showInitial: false,
                        showButtons: false,
                        showInput: true,
                        width: "120",
                        change: function (color) {
                            console.log(color.toHexString());
                            $("input[name='" + inputValueName + "']").val(color.toHexString());
                        }
                    });
                });
            }
        }
        colorModule.color();
    </script>
</div>